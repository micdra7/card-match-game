(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(64)},43:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),o=a.n(c),l=a(8),s=(a(43),a(12)),i=a(11),u=a(9),m=a(30),d=["ambulance","anchor","baby-carriage","bath","bed","beer","bell","bicycle","binoculars","bomb","book","bug","bus","camera","candy-cane","car","cloud","drum","feather","guitar","headphones","heart","helicopter","key","lightbulb","lock","moon","rocket","tv","umbrella","star","wrench"],f=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},h=function(e){return e[f(0,e.length-1)]};function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var E={cards:[],matchedCards:[],selectedCards:[],time:0,difficulty:1,score:0,name:""},v=function(e,t){return{type:"CARD_SELECTED",payload:{x:e,y:t}}},y=function(){return{type:"RESET_STATE"}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CARDS":return b({},e,{difficulty:t.payload.difficulty,cards:t.payload.cards,time:Date.now()});case"CARD_SELECTED":var a=e.selectedCards.concat(e.cards.filter(function(e){return e.x===t.payload.x&&e.y===t.payload.y}));if(2===a.length){if(a[0].value===a[1].value){var r=e.matchedCards.concat(a);return r.length===e.cards.length?b({},e,{score:e.difficulty>=3?e.score+=60:e.score+=40,cards:[],selectedCards:[],matchedCards:[]}):b({},e,{score:e.score+=40,matchedCards:r,selectedCards:[]})}return-1===t.payload.x&&-1===t.payload.y?b({},e,{selectedCards:[]}):b({},e,{selectedCards:a})}return a.length>2?b({},e,{selectedCards:[]}):b({},e,{selectedCards:a});case"SET_NAME":return b({},e,{name:t.payload});case"SET_SCORE":return b({},e,{score:t.payload});case"RESET_STATE":return E;case"SET_TIME":return b({},e,{time:t.payload});default:return e}},O=a(14),S=(a(47),function(e){var t=e.value,a=e.handleClick,r=e.className,c=e.cardSize,o={width:"".concat(c,"px"),height:"".concat(c,"px")};return n.a.createElement("div",{className:r,onClick:a},n.a.createElement("div",{className:"svg-wrapper-backside"},n.a.createElement("div",{className:"svg-wrapper"},n.a.createElement(O.a,{icon:t,style:o}))))}),w=(a(48),function(e){var t=e.cards,a=e.matchedCards,c=e.selectedCards,o=e.difficulty,l=e.select,s=e.cardIcons,m=e.stateUpdated,d=e.selectAfterTimeout,f=Object(r.useState)(0),h=Object(u.a)(f,2),p=h[0],b=h[1],E=Object(r.useState)(0),v=Object(u.a)(E,2),y=v[0],g=v[1],O=Object(r.useState)([]),w=Object(u.a)(O,2),N=w[0],C=w[1],j=Object(r.useState)({}),k=Object(u.a)(j,2),T=k[0],x=k[1],A=Object(r.useState)([]),D=Object(u.a)(A,2),I=D[0],R=D[1];return Object(r.useEffect)(function(){var e=function(){b(window.innerWidth),g(window.innerHeight)};return e(),e}),Object(r.useEffect)(function(){var e=[100,80,60,40],r=[100,70,50,35],u=[100,55,35,25];C(0===t.length&&m?n.a.createElement(i.a,{to:"/scoreboard/input"}):t.map(function(t,i){var m=a.includes(t)?"card matched":c.includes(t)?"card selected":I.includes(t)?"card to-hide":"card",f=a.includes(t)||c.includes(t)?function(){}:function(){l(t.x,t.y);var e=I.concat(t);e.length>2&&(e=e.slice(2)),R(e),2===e.length&&e[0].value!==e[1].value&&(m="card to-hide",d(-1,-1,500))},h=p<=360?u[o-1]:p<=768?r[o-1]:e[o-1];return p>y&&(p<=768||y<=768)&&(h-=p<=360||y<=360?20:15),n.a.createElement(S,{key:t.value*i+o+i,value:s[t.value],handleClick:f,className:m,cardSize:h})}));for(var f="",h=0;h<2*o;h++)f+="".concat((100/(2*o)).toFixed(2),"% ");return x({gridTemplateColumns:f,gridTemplateRows:f}),function(){I.length>=2&&R([])}},[t,c,a,p]),n.a.createElement("div",{className:"card-collection",style:T},N)}),N=a(20),C=a.n(N),j=(a(53),function(e){var t=e.name,a=e.value;return n.a.createElement("div",{className:"game-screen-property"},n.a.createElement("span",{className:"name"},"".concat(t,": ")),n.a.createElement("span",{className:"value"},"Time"!==t?a.toFixed(2):n.a.createElement(C.a,null,n.a.createElement(C.a.Minutes,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e,":")}}),n.a.createElement(C.a.Seconds,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e)}}))))}),k=(a(54),{select:v,initializeCards:function(e){return function(t){var a,r=[],n=[],c=[];e<=4&&e>=1?a=2*e:(a=8,e=4);for(var o=0;o<a*e;o++){var l=void 0;do{l=f(0,31)}while(-1!==c.indexOf(l));n.push(l),c.push(l)}n=n.concat(n);for(var s=0;s<a;s++)for(var i=0;i<a;i++)r.push({x:s,y:i,value:h(n)}),n.splice(n.indexOf(r[r.length-1].value),1);t({type:"INIT_CARDS",payload:{difficulty:e,cards:r}})}},selectAfterTimeout:function(e,t,a){return function(r){setTimeout(function(){r(v(e,t))},a)}}}),T=Object(l.b)(function(e){return{cards:(e=e.cardReducer).cards,matchedCards:e.matchedCards,selectedCards:e.selectedCards,time:e.time,score:e.score}},k)(function(e){var t=e.cards,a=e.matchedCards,c=e.selectedCards,o=e.difficulty,l=e.select,s=e.initializeCards,i=e.cardIcons,m=e.score,d=e.selectAfterTimeout,f=Object(r.useState)(!1),h=Object(u.a)(f,2),p=h[0],b=h[1];return Object(r.useEffect)(function(){s(o),b(!0)},[o,s]),n.a.createElement("div",{className:"game-screen-wrapper"},n.a.createElement("div",{className:"top-section"},n.a.createElement(j,{name:"Time",value:null,onStop:function(e){return function(e){return{type:"SET_TIME",payload:e}}(e)}}),n.a.createElement(j,{name:"Score",value:m})),n.a.createElement("div",{className:"bottom-section"},n.a.createElement(w,{stateUpdated:p,cards:t,matchedCards:a,selectedCards:c,select:l,difficulty:o,cardIcons:i,selectAfterTimeout:d})))}),x=(a(55),function(e){var t=e.href,a=e.text,r=e.className;return n.a.createElement("div",{className:"menu-link ".concat(r)},n.a.createElement(s.b,{to:t},a))}),A=(a(56),Object(l.b)(null,{resetState:y})(function(e){var t=e.links,a=e.resetState;Object(r.useEffect)(function(){a()},[a]);var c=t.map(function(e){return n.a.createElement(x,{key:e.href.length*e.name.length,href:e.href,className:"primary",text:e.name})});return n.a.createElement("div",{className:"menu-wrapper"},c)})),D=(a(57),Object(l.b)(null,{resetState:y})(function(e){var t=e.difficultyList,a=e.resetState;Object(r.useEffect)(function(){a()},[a]);var c=t.map(function(e,t){return n.a.createElement(x,{key:e.value*e.name.length+t,href:"/game/".concat(e.value),text:e.name,className:"primary"})});return n.a.createElement("div",{className:"difficulty-select-screen-wrapper"},c)})),I=(a(58),function(e){var t=e.name,a=e.score;return n.a.createElement("div",{className:"scoreboard-entry"},n.a.createElement("span",{className:"name"},"".concat(t,": ")),n.a.createElement("span",{className:"score"},a.toFixed(2)))}),R=(a(59),function(e){var t=e.propScoreboard,a=t;a=a.sort(function(e,t){return e.score<t.score?1:e.score>t.score?-1:0});var r=t===[]||void 0===t||0===t.length?n.a.createElement("h1",null,"Nothing to show. Play the game to get your score saved!"):a.map(function(e){return n.a.createElement(I,{key:e.score*e.name.length,score:e.score,name:e.name})});return n.a.createElement("div",{className:"scoreboard-wrapper"},n.a.createElement("header",{className:"scoreboard-header"},n.a.createElement("h4",null,"10 highest scores of all time:")),n.a.createElement("div",{className:"scoreboard-content"},r))}),M=(a(60),{setName:function(e){return{type:"SET_NAME",payload:e}},setScore:function(e){return{type:"SET_SCORE",payload:e}}}),_=Object(l.b)(function(e){return{score:(e=e.cardReducer).score,name:e.name,time:e.time}},M)(function(e){var t=e.score,a=e.name,c=e.time,o=e.setScore,l=e.setName,s=Object(r.useState)(!1),m=Object(u.a)(s,2),d=m[0],f=m[1];return n.a.createElement("div",{className:"scoreboard-input-wrapper"},d||0===t?n.a.createElement(i.a,{to:"/"}):n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r=t-(Date.now()-c)/1e3;o(r),function(e,t){var a=JSON.parse(localStorage.getItem("scoreArray"))||[];if(!a.includes({score:e,name:t})){var r=a.filter(function(t){return t.score<e});if(r.length>0){var n=r.sort(function(e,t){return e.score-t.score});a[a.indexOf(n[0])]={score:e,name:t}}else a.length<10&&a.push({score:e,name:t});localStorage.setItem("scoreArray",JSON.stringify(a))}}(r,a),f(!0)}},n.a.createElement("label",{htmlFor:"name"},"Your name"),n.a.createElement("input",{type:"text",name:"name",value:a,onChange:function(e){l(e.target.value)}}),n.a.createElement("button",{type:"submit"},"Save your score")))}),P=a(25),W=(a(61),function(){var e={width:"2rem",height:"2rem"};return n.a.createElement("div",{className:"about-wrapper"},n.a.createElement("header",{className:"about-header"},n.a.createElement("h1",null,"Card matching game")),n.a.createElement("section",{className:"about-content"},n.a.createElement("p",null,"Made by Michal Drabik"),n.a.createElement("div",{className:"about-socials"},n.a.createElement("span",{className:"github"},n.a.createElement("a",{href:"https://github.com/micdra7"},n.a.createElement(O.a,{icon:P.a,style:e}))),n.a.createElement("span",{className:"linkedin"},n.a.createElement("a",{href:"https://www.linkedin.com/in/micha%C5%82-drabik-5497b4191/"},n.a.createElement(O.a,{icon:P.b,style:e}))))))}),L=a(2),F=(a(62),Object(i.f)(function(e){var t=e.history,a=e.location;return n.a.createElement("div",{className:"back-button"},"/"===a.pathname?n.a.createElement(n.a.Fragment,null):n.a.createElement("button",{type:"button",onClick:function(){return t.goBack()}},n.a.createElement(O.a,{icon:L.c,style:{width:"2rem",height:"2rem"}})))})),z=a(17),J=(a(63),function(e){var t=e.history,a=void 0===t?null:t;z.b.add(L.a,L.b,L.d,L.e,L.f,L.g,L.h,L.i,L.j,L.k,L.l,L.m,L.n,L.o,L.p,L.q,L.r,L.s,L.t,L.u,L.v,L.w,L.x,L.y,L.z,L.A,L.B,L.C,L.E,L.F,L.D,L.G);var r=[{href:"/game/difficulty/choose",name:"Start game"},{href:"/scoreboard",name:"Scoreboard"},{href:"/about",name:"About"}],c=[{value:1,name:"Easy"},{value:2,name:"Normal"},{value:3,name:"Hard"},{value:4,name:"Very hard"}];return n.a.createElement("div",{className:"app-wrapper"},n.a.createElement(s.a,null,n.a.createElement(F,{browserHistory:a}),n.a.createElement(i.b,{exact:!0,path:"/",render:function(){return n.a.createElement(A,{links:r})}}),n.a.createElement(i.b,{exact:!0,path:"/game/:difficulty",render:function(e){var t=e.match;return n.a.createElement(T,{difficulty:t.params.difficulty,cardIcons:d})}}),n.a.createElement(i.b,{exact:!0,path:"/game/difficulty/choose",render:function(){return n.a.createElement(D,{difficultyList:c})}}),n.a.createElement(i.b,{exact:!0,path:"/scoreboard",render:function(){return n.a.createElement(R,{propScoreboard:JSON.parse(localStorage.getItem("scoreArray"))||[]})}}),n.a.createElement(i.b,{path:"/scoreboard/input",render:function(){return n.a.createElement(_,null)}}),n.a.createElement(i.b,{path:"/about",render:function(){return n.a.createElement(W,null)}})))}),U=a(13),q=a(32),B=a(33),H=Object(U.combineReducers)({cardReducer:g}),V=Object(U.createStore)(H,Object(q.composeWithDevTools)(Object(U.applyMiddleware)(B.a))),G=["/#/","/#/game/difficulty/choose","/#/game/1","/#/game/2","/#/game/3","/#/game/4","/#/scoreboard","/#/scoreboard/input","/#/about"],Y=window.self;Y.addEventListener("install",function(e){e.waitUntil(caches.open("pwa-card-match-game").then(function(e){return e.addAll(G)}))}),Y.addEventListener("fetch",function(e){e.respondWith(caches.match(e.request).then(function(t){return t||fetch(e.request)}))}),Y.addEventListener("activate",function(e){var t=["pwa-card-match-game"];e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(e){if(-1!==t.indexOf(e))return caches.delete(e)}))}))});o.a.render(n.a.createElement(l.a,{store:V},n.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator?navigator.serviceWorker.register("./serviceWorker.js").then(function(e){console.log("Worker registration successful",e.scope)},function(e){console.log("Worker registration failed",e)}).catch(function(e){console.log(e)}):console.log("Service Worker is not supported by browser.")}},[[34,1,2]]]);
//# sourceMappingURL=main.18c32550.chunk.js.map