(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(64)},43:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=a(8),i=(a(43),a(12)),s=a(11),u=a(9),d=a(30),m=["ambulance","anchor","baby-carriage","bath","bed","beer","bell","bicycle","binoculars","bomb","book","bug","bus","camera","candy-cane","car","cloud","drum","feather","guitar","headphones","heart","helicopter","key","lightbulb","lock","moon","rocket","tv","umbrella","star","wrench"],f=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},h=function(e){return e[f(0,e.length-1)]};function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v={cards:[],matchedCards:[],selectedCards:[],time:0,difficulty:1,score:0,name:""},E=function(e,t){return{type:"CARD_SELECTED",payload:{x:e,y:t}}},y=function(){return{type:"RESET_STATE"}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CARDS":return b({},e,{difficulty:t.payload.difficulty,cards:t.payload.cards,time:Date.now()});case"CARD_SELECTED":var a=e.selectedCards.concat(e.cards.filter(function(e){return e.x===t.payload.x&&e.y===t.payload.y}));if(2===a.length){if(a[0].value===a[1].value){var n=e.matchedCards.concat(a);return n.length===e.cards.length?b({},e,{score:e.difficulty>=3?e.score+=60:e.score+=40,cards:[],selectedCards:[],matchedCards:[]}):b({},e,{score:e.score+=40,matchedCards:n,selectedCards:[]})}return-1===t.payload.x&&-1===t.payload.y?b({},e,{selectedCards:[]}):b({},e,{selectedCards:a})}return a.length>2?b({},e,{selectedCards:[]}):b({},e,{selectedCards:a});case"SET_NAME":return b({},e,{name:t.payload});case"SET_SCORE":return b({},e,{score:t.payload});case"RESET_STATE":return v;case"SET_TIME":return b({},e,{time:t.payload});default:return e}},w=a(14),O=(a(47),function(e){var t=e.value,a=e.handleClick,n=e.className,c=e.cardSize,o={width:"".concat(c,"px"),height:"".concat(c,"px")};return r.a.createElement("div",{className:n,onClick:a},r.a.createElement("div",{className:"svg-wrapper-backside"},r.a.createElement("div",{className:"svg-wrapper"},r.a.createElement(w.a,{icon:t,style:o}))))}),S=(a(48),function(e){var t=e.cards,a=e.matchedCards,c=e.selectedCards,o=e.difficulty,l=e.select,i=e.cardIcons,d=e.stateUpdated,m=e.selectAfterTimeout,f=Object(n.useState)(0),h=Object(u.a)(f,2),p=h[0],b=h[1],v=Object(n.useState)(0),E=Object(u.a)(v,2),y=E[0],g=E[1],w=Object(n.useState)([]),S=Object(u.a)(w,2),N=S[0],C=S[1],j=Object(n.useState)({}),k=Object(u.a)(j,2),T=k[0],x=k[1],A=Object(n.useState)([]),D=Object(u.a)(A,2),R=D[0],I=D[1];return Object(n.useEffect)(function(){var e=function(){b(window.innerWidth),g(window.innerHeight)};return e(),e}),Object(n.useEffect)(function(){var e=[100,80,60,40],n=[100,70,50,35],u=[100,55,35,25];C(0===t.length&&d?r.a.createElement(s.a,{to:"/scoreboard/input"}):t.map(function(t,s){var d=a.includes(t)?"card matched":c.includes(t)?"card selected":R.includes(t)?"card to-hide":"card",f=a.includes(t)||c.includes(t)?function(){}:function(){l(t.x,t.y);var e=R.concat(t);e.length>2&&(e=e.slice(2)),I(e),2===e.length&&e[0].value!==e[1].value&&(d="card to-hide",m(-1,-1,500))},h=p<=360?u[o-1]:p<=768?n[o-1]:e[o-1];return p>y&&(p<=768||y<=768)&&(h-=p<=360||y<=360?20:15),r.a.createElement(O,{key:t.value*s+o+s,value:i[t.value],handleClick:f,className:d,cardSize:h})}));for(var f="",h=0;h<2*o;h++)f+="".concat((100/(2*o)).toFixed(2),"% ");return x({gridTemplateColumns:f,gridTemplateRows:f}),function(){R.length>=2&&I([])}},[t,c,a,p]),r.a.createElement("div",{className:"card-collection",style:T},N)}),N=a(20),C=a.n(N),j=(a(53),function(e){var t=e.name,a=e.value;return r.a.createElement("div",{className:"game-screen-property"},r.a.createElement("span",{className:"name"},"".concat(t,": ")),r.a.createElement("span",{className:"value"},"Time"!==t?a.toFixed(2):r.a.createElement(C.a,null,r.a.createElement(C.a.Minutes,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e,":")}}),r.a.createElement(C.a.Seconds,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e)}}))))}),k=(a(54),{select:E,initializeCards:function(e){return function(t){var a,n=[],r=[],c=[];e<=4&&e>=1?a=2*e:(a=8,e=4);for(var o=0;o<a*e;o++){var l=void 0;do{l=f(0,31)}while(-1!==c.indexOf(l));r.push(l),c.push(l)}r=r.concat(r);for(var i=0;i<a;i++)for(var s=0;s<a;s++)n.push({x:i,y:s,value:h(r)}),r.splice(r.indexOf(n[n.length-1].value),1);t({type:"INIT_CARDS",payload:{difficulty:e,cards:n}})}},selectAfterTimeout:function(e,t,a){return function(n){setTimeout(function(){n(E(e,t))},a)}}}),T=Object(l.b)(function(e){return{cards:(e=e.cardReducer).cards,matchedCards:e.matchedCards,selectedCards:e.selectedCards,time:e.time,score:e.score}},k)(function(e){var t=e.cards,a=e.matchedCards,c=e.selectedCards,o=e.difficulty,l=e.select,i=e.initializeCards,s=e.cardIcons,d=e.score,m=e.selectAfterTimeout,f=Object(n.useState)(!1),h=Object(u.a)(f,2),p=h[0],b=h[1];return Object(n.useEffect)(function(){i(o),b(!0)},[o,i]),r.a.createElement("div",{className:"game-screen-wrapper"},r.a.createElement("div",{className:"top-section"},r.a.createElement(j,{name:"Time",value:null,onStop:function(e){return function(e){return{type:"SET_TIME",payload:e}}(e)}}),r.a.createElement(j,{name:"Score",value:d})),r.a.createElement("div",{className:"bottom-section"},r.a.createElement(S,{stateUpdated:p,cards:t,matchedCards:a,selectedCards:c,select:l,difficulty:o,cardIcons:s,selectAfterTimeout:m})))}),x=(a(55),function(e){var t=e.href,a=e.text,n=e.className;return r.a.createElement("div",{className:"menu-link ".concat(n)},r.a.createElement(i.b,{to:t},a))}),A=(a(56),Object(l.b)(null,{resetState:y})(function(e){var t=e.links,a=e.resetState;Object(n.useEffect)(function(){a()},[a]);var c=t.map(function(e){return r.a.createElement(x,{key:e.href.length*e.name.length,href:e.href,className:"primary",text:e.name})});return r.a.createElement("div",{className:"menu-wrapper"},c)})),D=(a(57),Object(l.b)(null,{resetState:y})(function(e){var t=e.difficultyList,a=e.resetState;Object(n.useEffect)(function(){a()},[a]);var c=t.map(function(e,t){return r.a.createElement(x,{key:e.value*e.name.length+t,href:"/game/".concat(e.value),text:e.name,className:"primary"})});return r.a.createElement("div",{className:"difficulty-select-screen-wrapper"},c)})),R=(a(58),function(e){var t=e.name,a=e.score;return r.a.createElement("div",{className:"scoreboard-entry"},r.a.createElement("span",{className:"name"},"".concat(t,": ")),r.a.createElement("span",{className:"score"},a.toFixed(2)))}),I=(a(59),function(e){var t=e.propScoreboard,a=t;a=a.sort(function(e,t){return e.score<t.score?1:e.score>t.score?-1:0});var n=t===[]||void 0===t||0===t.length?r.a.createElement("h1",null,"Nothing to show. Play the game to get your score saved!"):a.map(function(e){return r.a.createElement(R,{key:e.score*e.name.length,score:e.score,name:e.name})});return r.a.createElement("div",{className:"scoreboard-wrapper"},r.a.createElement("header",{className:"scoreboard-header"},r.a.createElement("h4",null,"10 highest scores of all time:")),r.a.createElement("div",{className:"scoreboard-content"},n))}),M=(a(60),{setName:function(e){return{type:"SET_NAME",payload:e}},setScore:function(e){return{type:"SET_SCORE",payload:e}}}),_=Object(l.b)(function(e){return{score:(e=e.cardReducer).score,name:e.name,time:e.time}},M)(function(e){var t=e.score,a=e.name,c=e.time,o=e.setScore,l=e.setName,i=Object(n.useState)(!1),d=Object(u.a)(i,2),m=d[0],f=d[1];return r.a.createElement("div",{className:"scoreboard-input-wrapper"},m||0===t?r.a.createElement(s.a,{to:"/"}):r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=t-(Date.now()-c)/1e3;o(n),function(e,t){var a=JSON.parse(localStorage.getItem("scoreArray"))||[];if(!a.includes({score:e,name:t})){var n=a.filter(function(t){return t.score<e});if(n.length>0){var r=n.sort(function(e,t){return e.score-t.score});a[a.indexOf(r[0])]={score:e,name:t}}else a.length<10&&a.push({score:e,name:t});localStorage.setItem("scoreArray",JSON.stringify(a))}}(n,a),f(!0)}},r.a.createElement("label",{htmlFor:"name"},"Your name"),r.a.createElement("input",{type:"text",name:"name",value:a,onChange:function(e){l(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Save your score")))}),P=a(25),W=(a(61),function(){var e={width:"2rem",height:"2rem"};return r.a.createElement("div",{className:"about-wrapper"},r.a.createElement("header",{className:"about-header"},r.a.createElement("h1",null,"Card matching game")),r.a.createElement("section",{className:"about-content"},r.a.createElement("p",null,"Made by Michal Drabik"),r.a.createElement("div",{className:"about-socials"},r.a.createElement("span",{className:"github"},r.a.createElement("a",{href:"https://github.com/micdra7"},r.a.createElement(w.a,{icon:P.a,style:e}))),r.a.createElement("span",{className:"linkedin"},r.a.createElement("a",{href:"https://www.linkedin.com/in/micha%C5%82-drabik-5497b4191/"},r.a.createElement(w.a,{icon:P.b,style:e}))))))}),F=a(2),L=(a(62),Object(s.f)(function(e){var t=e.history,a=e.location;return r.a.createElement("div",{className:"back-button"},"/"===a.pathname?r.a.createElement(r.a.Fragment,null):r.a.createElement("button",{type:"button",onClick:function(){return t.goBack()}},r.a.createElement(w.a,{icon:F.c,style:{width:"2rem",height:"2rem"}})))})),z=a(17),J=(a(63),function(e){var t=e.history,a=void 0===t?null:t;z.b.add(F.a,F.b,F.d,F.e,F.f,F.g,F.h,F.i,F.j,F.k,F.l,F.m,F.n,F.o,F.p,F.q,F.r,F.s,F.t,F.u,F.v,F.w,F.x,F.y,F.z,F.A,F.B,F.C,F.E,F.F,F.D,F.G);var n=[{href:"/game/difficulty/choose",name:"Start game"},{href:"/scoreboard",name:"Scoreboard"},{href:"/about",name:"About"}],c=[{value:1,name:"Easy"},{value:2,name:"Normal"},{value:3,name:"Hard"},{value:4,name:"Very hard"}];return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(i.a,null,r.a.createElement(L,{browserHistory:a}),r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return r.a.createElement(A,{links:n})}}),r.a.createElement(s.b,{exact:!0,path:"/game/:difficulty",render:function(e){var t=e.match;return r.a.createElement(T,{difficulty:t.params.difficulty,cardIcons:m})}}),r.a.createElement(s.b,{exact:!0,path:"/game/difficulty/choose",render:function(){return r.a.createElement(D,{difficultyList:c})}}),r.a.createElement(s.b,{exact:!0,path:"/scoreboard",render:function(){return r.a.createElement(I,{propScoreboard:JSON.parse(localStorage.getItem("scoreArray"))||[]})}}),r.a.createElement(s.b,{path:"/scoreboard/input",render:function(){return r.a.createElement(_,null)}}),r.a.createElement(s.b,{path:"/about",render:function(){return r.a.createElement(W,null)}})))}),U=a(13),B=a(32),H=a(33),V=Object(U.combineReducers)({cardReducer:g}),q=Object(U.createStore)(V,Object(B.composeWithDevTools)(Object(U.applyMiddleware)(H.a))),G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!==a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(l.a,{store:q},r.a.createElement(J,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/card-match-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/card-match-game","/service-worker.js");G?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Y(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Y(t,e)})}}()}},[[34,1,2]]]);
//# sourceMappingURL=main.ea8da3a3.chunk.js.map